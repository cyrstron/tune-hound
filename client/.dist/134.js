(self.webpackChunktune_hound_client=self.webpackChunktune_hound_client||[]).push([[134],{5134:(e,n,t)=>{"use strict";t.r(n),t.d(n,{connectDeezerSaga:()=>B});var i=t(4857),r=t(5079),s=t(1529),o=t(8450),c=t(370),l=t(797),u=t(681),y=t(1878);function*d(e,n){for(;;){const t=yield(0,i.qn)(n);if("object"==typeof t)return;const r=(0,s.fC)(t);yield(0,i.gz)(r);const[o,l,d]=yield(0,i.$6)([(0,i.Ys)(u.HS),(0,i.Ys)(u.sd),(0,i.Ys)(c.l8)]),a="deezer"===o?.source&&d&&+d.id===o.trackSource.id;if(!a||!l)if(a){const e=(0,y.sB)(t);yield(0,i.gz)(e)}else e.player.pause()}}function*a(e,n){const t=e.player.getCurrentTrack(),r=e.player.getCurrentIndex(),o=(0,s.Hi)(r,t);for(yield(0,i.gz)(o);;){const t=yield(0,i.qn)(n);if("type"in t)return;const{index:r,track:o}=t,c=(0,s.Hi)(r,o);yield(0,i.gz)(c);const l=yield(0,i.Ys)(u.HS);l&&"deezer"===l.source&&l.trackSource.id===+o.id||e.player.pause()}}function*f(e,n){const t=e.player.getMute(),r=(0,s.h1)(t);for(yield(0,i.gz)(r);;){const t=yield(0,i.qn)(n);if("boolean"!=typeof t)return;const r=(0,s.h1)(t);yield(0,i.gz)(r);const o=yield(0,i.Ys)(u.lK);!t!==o&&e.player.setMute(o)}}function*p(e){for(;;){const n=yield(0,i.qn)(e);if("number"!=typeof n)return;const t=(0,s.vu)(n);yield(0,i.gz)(t)}}function*b(e){for(;;){if("object"==typeof(yield(0,i.qn)(e)))return;const n=(0,s.HO)();yield(0,i.gz)(n)}}function*g(e){for(;;){const n=yield(0,i.qn)(e);if("object"==typeof n)return;const t=(0,s.fC)(n);yield(0,i.gz)(t);const[r,o,l]=yield(0,i.$6)([(0,i.Ys)(u.HS),(0,i.Ys)(u.sd),(0,i.Ys)(c.l8)]);if("deezer"!==r?.source||!l||+l.id!==r.trackSource.id||!o)continue;const d=(0,y.sB)(n);yield(0,i.gz)(d)}}var z=t(3493),C=t.n(z);function*h(e,n){for(;;){const t=yield(0,i.qn)(n);if(!Array.isArray(t))return;const r=(0,s.lu)(t);yield(0,i.gz)(r);const[o,c]=yield(0,i.$6)([(0,i.Ys)(u.AW),(0,i.Ys)(u.sd)]);if("deezer"===o&&c){const e=(0,y.wq)(t[0]/t[1]*100);yield(0,i.gz)(e)}else e.player.pause()}}function*k(e,n){const t=e.player.getRepeat(),r=(0,s.zf)(t);for(yield(0,i.gz)(r);;){const e=yield(0,i.qn)(n);if("object"==typeof e)return;const t=(0,s.zf)(e);yield(0,i.gz)(t)}}function*G(e,n){const t=e.player.getShuffle(),r=(0,s.m4)(t);for(yield(0,i.gz)(r);;){const e=yield(0,i.qn)(n);if("object"==typeof e)return;const t=(0,s.m4)(e);yield(0,i.gz)(t)}}function*v(e,n){for(;;){const t=yield(0,i.qn)(n);if("object"==typeof t)return;const r=(0,s.DP)(t);if(yield(0,i.gz)(r),"deezer"!==(yield(0,i.Ys)(u.AW)))continue;e.player.pause();const o=(0,y.vR)();yield(0,i.gz)(o)}}function*Y(e,n){const t=e.player.getTrackList(),r=(0,s.Kb)(t);for(yield(0,i.gz)(r);;){if("object"==typeof(yield(0,i.qn)(n)))return;const t=e.player.getTrackList(),r=(0,s.Kb)(t);yield(0,i.gz)(r)}}function*_(e,n){const t=e.player.getVolume(),r=(0,s.Mb)(t);for(yield(0,i.gz)(r);;){const e=yield(0,i.qn)(n);if("number"!=typeof e)return;const t=(0,s.Mb)(e);yield(0,i.gz)(t)}}function*m(e){const n=function(e){return(0,l.GG)((n=>(e.events.subscribe("player_play",(()=>{n(!0)})),()=>{})))}(e),t=function(e){return(0,l.GG)((n=>(e.events.subscribe("current_track",(e=>{n(e)})),()=>{})))}(e),r=function(e){return(0,l.GG)((n=>(e.events.subscribe("mute_changed",(e=>{n(e)})),()=>{})))}(e),s=function(e){return(0,l.GG)((n=>(e.events.subscribe("player_buffering",(e=>{n(e)})),()=>{})))}(e),o=function(e){return(0,l.GG)((n=>(e.events.subscribe("player_loaded",(()=>{n(!0)})),()=>{})))}(e),c=function(e){return(0,l.GG)((n=>(e.events.subscribe("player_paused",(()=>{n(!1)})),()=>{})))}(e),u=function(e){return(0,l.GG)((n=>{const t=C()((e=>{n(e)}),200);return e.events.subscribe("player_position",t),()=>{}}))}(e),y=function(e){return(0,l.GG)((n=>(e.events.subscribe("repeat_changed",(e=>{n(e)})),()=>{})))}(e),z=function(e){return(0,l.GG)((n=>(e.events.subscribe("shuffle_changed",(e=>{n(e)})),()=>{})))}(e),m=function(e){return(0,l.GG)((n=>(e.events.subscribe("track_end",(e=>{n(e)})),()=>{})))}(e),q=function(e){return(0,l.GG)((n=>(e.events.subscribe("tracklist_changed",(()=>{n(!0)})),()=>{})))}(e),S=function(e){return(0,l.GG)((n=>(e.events.subscribe("volume_changed",(e=>{n(e)})),()=>{})))}(e);return yield(0,i.$6)([(0,i.Cs)(d,e,n),(0,i.Cs)(a,e,t),(0,i.Cs)(f,e,r),(0,i.Cs)(p,s),(0,i.Cs)(b,o),(0,i.Cs)(g,c),(0,i.Cs)(h,e,u),(0,i.Cs)(k,e,y),(0,i.Cs)(G,e,z),(0,i.Cs)(v,e,m),(0,i.Cs)(Y,e,q),(0,i.Cs)(_,e,S)]),{playChannel:n,currentTrackChannel:t,muteChannel:r,bufferingChannel:s,loadedChannel:o,pauseChannel:c,repeatModeChannel:y,shuffleChannel:z,trackEndChannel:m,trackListChangeChannel:q,volumeChannel:S}}function*q(e){const[n,t]=yield(0,i.$6)([(0,i.Ys)(u.lK),(0,i.Ys)(u.zC)]);e.player.setMute(n),e.player.setVolume(t)}var S=t(9362);function*w({payload:{isMuted:e}}){(yield(0,i.fw)(r.ND)).player.setMute(e)}function*D(){yield(0,i.ib)(S.mb,w)}function*N({payload:{volume:e}}){(yield(0,i.fw)(r.ND)).player.setVolume(e)}function*H(){yield(0,i.P2)(500,S.FB,N)}function*M(){const e=yield(0,i.fw)(r.ND),n=yield(0,i.Ys)(u.HS);if("deezer"!==n?.source)return;const t=yield(0,i.Ys)(c.l8);t&&+t.id===n.trackSource.id?e.player.play():e.player.playTracks([n.trackSource.id],!0)}function*T(){yield(0,i.ib)(S.NH,M)}function*j(){const e=yield(0,i.fw)(r.ND);"deezer"===(yield(0,i.Ys)(u.AW))&&e.player.pause()}function*A(){yield(0,i.ib)(S.E7,j)}function*E({payload:{position:e}}){const n=yield(0,i.fw)(r.ND);"deezer"===(yield(0,i.Ys)(u.AW))&&n.player.seek(e)}function*R(){yield(0,i.ib)(S.tG,E)}function*$({payload:{track:e,isAutoplay:n}}){const t=yield(0,i.fw)(r.ND);if("deezer"!==e.source)return;const s=yield(0,i.Ys)(c.l8);s&&+s.id===e.trackSource.id?n?(t.player.seek(0),t.player.play()):(t.player.seek(0),t.player.pause()):yield t.player.playTracks([e.trackSource.id],n)}function*K(){yield(0,i.ib)(S.Ps,$)}function*L(){yield(0,i.Cs)(D),yield(0,i.Cs)(H),yield(0,i.Cs)(T),yield(0,i.Cs)(A),yield(0,i.Cs)(K),yield(0,i.Cs)(R)}function*W(e){yield(0,i.RE)(q,e),yield(0,i.RE)(m,e),yield(0,i.Cs)(L)}const{initConfig:x}=r.eT;function*B(){const e=(0,s.xb)();yield(0,i.gz)(e);const n=yield(0,i.fw)(r.ND);try{if(!(yield(0,i.Ys)(c.CT))){yield n.mount();const e=(0,s.Ng)();yield(0,i.gz)(e)}if(!(yield(0,i.Ys)(c.bF))){yield n.init({...x,player:{}}),yield(0,i.RE)(W,n);const e=(0,s.dX)();yield(0,i.gz)(e)}(yield n.isLoggedIn())||(yield n.connect()),(0,o.no)(!0);const e=(0,s.op)();yield(0,i.gz)(e);const t=yield n.me(),r=(0,s.nC)(t);return yield(0,i.gz)(r),!0}catch(e){const n=(0,s.bt)(e);return yield(0,i.gz)(n),!1}}}}]);